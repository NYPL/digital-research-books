{"uid":"8bc4e28ce020a5a7","name":"test_execQuery_success","fullName":"tests.unit.test_oclcClassify_manager.TestClassifyManager#test_execQuery_success","historyId":"d5237b9189f8b7800c4b2eae341c3361","time":{"start":1678913930468,"stop":1678913930470,"duration":2},"status":"broken","statusMessage":"KeyError: 'OCLC_CLASSIFY_API_KEY'","statusTrace":"self = <tests.unit.test_oclcClassify_manager.TestClassifyManager object at 0x7f31872e5be0>\ntestInstance = <managers.oclcClassify.ClassifyManager object at 0x7f3185b8fa60>\nmocker = <pytest_mock.plugin.MockerFixture object at 0x7f3185b82b20>\n\n    def test_execQuery_success(self, testInstance, mocker):\n        mockResponse = mocker.MagicMock()\n        mockRequest = mocker.patch('managers.oclcClassify.requests')\n        mockRequest.get.return_value = mockResponse\n    \n        mockResponse.status_code = 200\n        mockResponse.text = 'testXMLResponse'\n    \n        testInstance.query = 'testQuery'\n>       testInstance.execQuery()\n\ntests/unit/test_oclcClassify_manager.py:113: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmanagers/oclcClassify.py:129: in execQuery\n    headers={'X-OCLC-API-Key': os.environ['OCLC_CLASSIFY_API_KEY']},\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = environ({'JAVA_HOME': '/usr/lib/jvm/temurin-11-jdk-amd64', 'LEIN_HOME': '/usr/local/lib/lein', 'GHCUP_INSTALL_BASE_PRE... 'PYTEST_CURRENT_TEST': 'tests/unit/test_oclcClassify_manager.py::TestClassifyManager::test_execQuery_success (call)'})\nkey = 'OCLC_CLASSIFY_API_KEY'\n\n    def __getitem__(self, key):\n        try:\n            value = self._data[self.encodekey(key)]\n        except KeyError:\n            # raise KeyError with the original key value\n>           raise KeyError(key) from None\nE           KeyError: 'OCLC_CLASSIFY_API_KEY'\n\n/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/os.py:679: KeyError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1678913925988,"stop":1678913925988,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"testInstance","time":{"start":1678913930467,"stop":1678913930468,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"mocker","time":{"start":1678913930467,"stop":1678913930467,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"afterStages":[{"name":"mocker::0","time":{"start":1678913930685,"stop":1678913930685,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests.unit"},{"name":"suite","value":"test_oclcClassify_manager"},{"name":"subSuite","value":"TestClassifyManager"},{"name":"host","value":"fv-az446-71"},{"name":"thread","value":"2494-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.unit.test_oclcClassify_manager"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":283,"unknown":0,"total":284},"items":[{"uid":"a2d56ec9edb2392","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/304//#testresult/a2d56ec9edb2392","status":"passed","time":{"start":1678733810642,"stop":1678733810644,"duration":2}},{"uid":"f5c616d7bc942f63","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/303//#testresult/f5c616d7bc942f63","status":"passed","time":{"start":1678666998248,"stop":1678666998250,"duration":2}},{"uid":"81ab2dc1f3976c33","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/302//#testresult/81ab2dc1f3976c33","status":"passed","time":{"start":1678218549257,"stop":1678218549260,"duration":3}},{"uid":"481707e07bf5503b","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/301//#testresult/481707e07bf5503b","status":"passed","time":{"start":1678062255297,"stop":1678062255299,"duration":2}},{"uid":"7c132dccbcbaa31c","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/300//#testresult/7c132dccbcbaa31c","status":"passed","time":{"start":1677873051594,"stop":1677873051595,"duration":1}},{"uid":"24ae7ba26204d32","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/299//#testresult/24ae7ba26204d32","status":"passed","time":{"start":1677791108136,"stop":1677791108137,"duration":1}},{"uid":"ee6ffec56479ea05","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/298//#testresult/ee6ffec56479ea05","status":"passed","time":{"start":1677618161986,"stop":1677618161987,"duration":1}},{"uid":"93294ad0e704264c","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/297//#testresult/93294ad0e704264c","status":"passed","time":{"start":1677605251136,"stop":1677605251140,"duration":4}},{"uid":"51bd8782baf6416e","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/296//#testresult/51bd8782baf6416e","status":"passed","time":{"start":1677528936249,"stop":1677528936252,"duration":3}},{"uid":"b47b097c12ac0ff7","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/295//#testresult/b47b097c12ac0ff7","status":"passed","time":{"start":1677457454145,"stop":1677457454147,"duration":2}},{"uid":"4ee4db76c1c9370a","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/294//#testresult/4ee4db76c1c9370a","status":"passed","time":{"start":1677273147461,"stop":1677273147463,"duration":2}},{"uid":"91602a4401826092","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/293//#testresult/91602a4401826092","status":"passed","time":{"start":1676852688036,"stop":1676852688037,"duration":1}},{"uid":"d241607ea0378547","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/292//#testresult/d241607ea0378547","status":"passed","time":{"start":1676670745353,"stop":1676670745355,"duration":2}},{"uid":"6564ab872cf0e957","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/291//#testresult/6564ab872cf0e957","status":"passed","time":{"start":1676664611828,"stop":1676664611829,"duration":1}},{"uid":"2330989f578b5379","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/290//#testresult/2330989f578b5379","status":"passed","time":{"start":1676584099664,"stop":1676584099666,"duration":2}},{"uid":"1d4f2f17af992ac3","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/289//#testresult/1d4f2f17af992ac3","status":"passed","time":{"start":1676577167274,"stop":1676577167276,"duration":2}},{"uid":"dbf125df68579e21","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/288//#testresult/dbf125df68579e21","status":"passed","time":{"start":1676489942085,"stop":1676489942086,"duration":1}},{"uid":"64c98d5738d8ed65","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/287//#testresult/64c98d5738d8ed65","status":"passed","time":{"start":1676473636355,"stop":1676473636356,"duration":1}},{"uid":"5ea2d4ace54ceae6","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/286//#testresult/5ea2d4ace54ceae6","status":"passed","time":{"start":1676247846686,"stop":1676247846688,"duration":2}},{"uid":"5945e3d4cfea998","reportUrl":"https://NYPL.github.io/drb-etl-pipeline/285//#testresult/5945e3d4cfea998","status":"passed","time":{"start":1675701069950,"stop":1675701069951,"duration":1}}]},"tags":[]},"source":"8bc4e28ce020a5a7.json","parameterValues":[]}